# 11/16
## 진행 상황
1. 컴포넌트 관계도 작성
![Alt text](images/component.png)
2. ERD 작성
![Alt text](images/erd.png)
3. django 유저 모델 만들기
4. vue 초기 화면 만들기
![Alt text](images/vue_first.png)
5. 기초 회원가입 툴 만들고 회원가입 완료
## 어려웠던 점
1. API를 통해 가져올 데이터들을 저장하기 위한 테이블 선언을 위해 models를 만들때, 모델 선언시 필드 값을 정하는 것에 어려움을 겪었다.
2. 각 components와 views의 관계도를 작성할 때 어떻게 작성해야 깔끔하게 정리 될까 고민하는게 어려웠다.
3. django에서 REST API를 통해 기본적으로 제공 되는 템플릿을 이용하려고 했으나, 500 error 가 발생하여 접근하지 못했었다.
4. 처음 프로젝트 진행했을 때, 도저히 알 수 없는 에러가 계속 나와서 진행이 불가능해서 처음부터 다시 시작했다. 처음 진행했을 당시 여러 코드를 가져와 사용했었는데 적용이 제대로 되지 않아서 에러가 발생한 것 같았다.
## 오늘 알게된 점
1. installapps를 작성할때, 앱의 순서도 오류에 영향을 준다는 것을 알게되었다. 교안만을 보며 진행하지 말고, 각 라이브러리의 documentation을 보며 차근차근 설치해야 한다.
오늘은 installapps의 순서와 dj-allauth의 middleware 관련 구절을 제외하여 오류가 해결되었다. (버전 문제인 것으로 생각됨)
- 참고
  - [dj-rest-auth](https://github.com/iMerica/dj-rest-auth)
  - [dj-allauth](https://docs.allauth.org/en/latest/installation/quickstart.html)

2. 한 프로젝트에서 models를 만들 때 기존에 배운것과 같이 모델을 한 두개만 만들지 않으면 너무 많아서 프로젝트 진행에 문제점이 될 줄 알았다. 금융 상품의 json 구조가 너무 달라 하나의 모델로 통합 할 수 없을 것 같아 적은 모델로 해결하지 못해 고민하였다. 하지만 모두 다른 모델로 구성하여 관리하는 것이 효율적이라는 것을 알게되었다.

## 역할
- 김영준 : accounts 앱 빌딩, django 기본 세팅, 회원가입 django 기능 구현
- 윤예빈 : 컴포넌트 관계도 작성, ERD 구성도 작성, 회원가입 Vue 기능 구현

# 11/17
## 진행사항
- 로그인 기능, 게시글 조회, 게시글 작성, 게시글 수정, 게시글 삭제, 정기예금 상품, 옵션 모델링
## 오늘 알게된 점
1. params로 들어온 id 값은 string타입이라서 엄격한 비교(===)를 사용하면 값이 같이 않다고 인식된다. 따라서 형변환을 실행해주거나 유형변환 비교를 실행해야한다.
2. filter의 반환값은 배열이다.
3. javascript에서 type 유형 확인하는 법 = typeof 였다.
4. django-rest-auth의 account/user/ 로 들어가면 현재 로그인한 유저의 정보가 나타난다! 
5. vue에서 이용자의 데이터에 접근하는 방법에 대해 알게되었다.
6. serializer 커스텀하는 법
7. routerguard 사용하는 법



## 어려웠던 점
1. 게시글 수정, 삭제를 하기 위해 해당 게시글을 작성한 유저의 정보를 가져올 필요가 있었는데 해당 정보를 가져오는게 너무 어려웠다. 결국 전부다 해당 게시글의 번호를 통해서 axios 요청으로 데이터를 통째로 가져와 거기에서 해당 게시글의 작성 유저를 찾았다.
2. field 값에 user를 추가하자, 게시글 작성 시 에러가 생겼다. 해당 문제는, 현재 로그인중인 유저의 id(pk) 값을 store에 저장해 axios 요청을 보낼 때 해당 id 값을 data안에 넣어서 해당 값을 지정해주었다!
   -> 근데 이게 틀렸다!
   user 값을 read_only_fields로 주었어야 했다. 그러자 게시글의 작성자를 쓸 수가 없었다. 데이터는 전부 django에서 가져와야 한다는 점이 있었기 때문에
   article serializer에서 userserializer를 호출하여 username과 user 값을 fields로 하여 user 변수를 생성했고 articleSerializer의 fields에 user 변수를 추가했다.
3. vue에서 이용자 데이터에 접근하기 위해서는 token에 key값을 넣어줬던 것처럼, 로그인시 user 데이터를 저장해놓는 방법을 사용하였다.
4. 게시물 수정 삭제시 게시물 작성자의 id와 이용자의 id가 다를시 접근할 수 없게 router을 달아줬는데, 각 then 블럭에서 다음으로 데이터를 넘겨주는 것이 어려워 한 then 블럭을 사용하였다.

5. router guard를 사용하는데, 현재 접속유저가 글을 작성한 유저가 아니라면, 해당 router에 대한 접속을 거부하는 로직을 짜려고 했다. 그러나 해당 로직을 구현하기 위해서는, 게시글을 작성한 user의 정보가 필요했고, 현재 router에서 얻을 수 있는 정보는 params로 주어지는 article_id(게시글 번호) 뿐이었다.
그래서 해당 게시글을 axios를 통해 조회하여 해당 게시글의 작성자 정보를 받아와 if문을 이용하여 해당 로직을 구현했다. routerguard 에서 axios를 쓸 수 있을줄은 몰랐다. 현재 로그인 중인 user의 정보는 로그인 할때 token 값을 저장하는 것 처럼 user.id 값도 같이 저장해 주었다.

- 김영준 : 로그인 django 기능 구현, 커뮤니티 기능 구현, 커뮤니티 권한 접근 기능
- 윤예빈 :  로그인 Vue 기능 구현, 커뮤니티 컴포넌트 구현, 모델링


# 11/20
## 진행사항
- API를 통해 데이터 받아오기
- 회원가입시 유저 모델 커스텀
- 정기예금 상품 최고금리 순서대로 정렬해서 가져오기
- 정렬한 10개에 맞는 정기예금 상품을 찾아 매칭




## 어려웠던 것
- 라이브러리중 하나를 빠뜨려서 오류남
- user model을 custom해서 fields를 늘리려는게 너무 어려웠다. 
- 회원가입 데이터를 입력했는데, db에 올라가지 않았다.
- API 내용이 명세와 달라서 일일히 다 확인해야 했음
- serializer의 readonly 필드 지정 방법이 알고있던 것과 달라서 pk값이 제대로 저장이 안되었다. 


## 알게된 점
- 공식 문서 참고의 중요성(라이브러리 설치 오류)



# 11/21
## 어려웠던 점
- 추천 뷰에서 라우터 링크를 통해 밑에 탭이바뀌면 뷰가 바뀌는 형식을 하고싶었는데 클릭하면 해당 링크로만 들어가졌다.
## 알게된 점
- 라우터 링크의 children에 링크를 넣으면 자식 탭으로 사용할 수 있었다.